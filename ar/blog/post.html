<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="pageTitle">مقال - تكنولوجي السعودية</title>
  <meta name="description" id="pageDescription" content="">

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="../../favicon.ico">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- AOS Animation -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css">

  <!-- Styles -->
  <link rel="stylesheet" href="../../assets/css/main.css">
  <link rel="stylesheet" href="../../assets/css/rtl.css">
  <link rel="stylesheet" href="../../assets/css/fixes.css">

  <style>
    .post-header {
      background: linear-gradient(135deg, var(--saudi-green) 0%, var(--saudi-green-light) 100%);
      padding: 8rem 0 4rem;
      text-align: center;
      color: white;
      position: relative;
      overflow: hidden;
    }

    .post-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
      opacity: 0.3;
    }

    .post-header h1 {
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
      position: relative;
      z-index: 1;
      line-height: 1.3;
    }

    .post-meta {
      display: flex;
      gap: 2rem;
      justify-content: center;
      align-items: center;
      margin-top: 2rem;
      position: relative;
      z-index: 1;
    }

    .post-meta span {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      opacity: 0.95;
    }

    .post-category-badge {
      display: inline-block;
      padding: 0.5rem 1.5rem;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50px;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .post-featured-image {
      width: 100%;
      max-width: 1200px;
      margin: -4rem auto 3rem;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      position: relative;
      z-index: 2;
    }

    .post-featured-image img {
      width: 100%;
      height: auto;
      display: block;
    }

    .post-content-wrapper {
      max-width: 900px;
      margin: 0 auto;
      padding: 3rem 1.5rem;
    }

    .post-content {
      font-size: 1.125rem;
      line-height: 1.8;
      color: var(--text-secondary);
    }

    .post-content h2 {
      font-size: 2rem;
      margin: 3rem 0 1.5rem;
      color: var(--text-primary);
      padding-bottom: 0.5rem;
      border-bottom: 3px solid var(--saudi-green);
    }

    .post-content h3 {
      font-size: 1.5rem;
      margin: 2rem 0 1rem;
      color: var(--text-primary);
    }

    .post-content p {
      margin-bottom: 1.5rem;
    }

    .post-content ul,
    .post-content ol {
      margin: 1.5rem 0;
      padding-right: 2rem;
    }

    .post-content li {
      margin-bottom: 0.75rem;
    }

    .post-content strong {
      color: var(--text-primary);
      font-weight: 700;
    }

    .post-content blockquote {
      border-right: 4px solid var(--saudi-green);
      padding: 1.5rem 2rem;
      margin: 2rem 0;
      background: var(--gray-50);
      border-radius: 8px;
      font-style: italic;
    }

    .post-footer {
      border-top: 2px solid var(--border-color);
      padding-top: 2rem;
      margin-top: 3rem;
    }

    .post-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-bottom: 2rem;
    }

    .tag {
      padding: 0.5rem 1rem;
      background: var(--gray-100);
      border-radius: 50px;
      font-size: 0.875rem;
      color: var(--text-secondary);
      transition: all 0.3s;
    }

    .tag:hover {
      background: var(--saudi-green);
      color: white;
    }

    .author-box {
      display: flex;
      gap: 1.5rem;
      padding: 2rem;
      background: var(--gray-50);
      border-radius: 15px;
      align-items: center;
    }

    .author-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: var(--saudi-green);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
      font-weight: 700;
      flex-shrink: 0;
    }

    .author-info h3 {
      margin: 0 0 0.5rem;
      color: var(--text-primary);
    }

    .author-info p {
      margin: 0;
      color: var(--text-secondary);
    }

    .not-found {
      text-align: center;
      padding: 6rem 1.5rem;
    }

    .not-found i {
      font-size: 5rem;
      color: var(--text-muted);
      margin-bottom: 2rem;
    }

    .not-found h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    @media (max-width: 768px) {
      .post-header h1 {
        font-size: 1.75rem;
      }

      .post-meta {
        flex-direction: column;
        gap: 1rem;
      }

      .post-content h2 {
        font-size: 1.5rem;
      }

      .author-box {
        flex-direction: column;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar" id="navbar">
    <div class="container">
      <div class="nav-wrapper">
        <a href="../../" class="logo">
          <i class="fas fa-code"></i>
          <span>تكنولوجي <span class="ksa-text">السعودية</span></span>
        </a>

        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="القائمة">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <div class="nav-menu" id="navMenu">
          <a href="../../" class="nav-link">الرئيسية</a>
          <a href="../about.html" class="nav-link">من نحن</a>
          <div class="nav-dropdown">
            <a href="../services/" class="nav-link">
              خدماتنا <i class="fas fa-chevron-down"></i>
            </a>
            <div class="dropdown-menu">
              <a href="../services/web-development.html" class="dropdown-item">
                <i class="fas fa-code"></i>
                <div>
                  <strong>تطوير المواقع</strong>
                  <span>مواقع احترافية متجاوبة</span>
                </div>
              </a>
              <a href="../services/mobile-apps.html" class="dropdown-item">
                <i class="fas fa-mobile-alt"></i>
                <div>
                  <strong>تطبيقات الجوال</strong>
                  <span>iOS و Android</span>
                </div>
              </a>
              <a href="../services/digital-marketing.html" class="dropdown-item">
                <i class="fas fa-chart-line"></i>
                <div>
                  <strong>التسويق الرقمي</strong>
                  <span>SEO و الإعلانات</span>
                </div>
              </a>
            </div>
          </div>
          <a href="../portfolio/" class="nav-link">أعمالنا</a>
          <a href="./" class="nav-link active">المدونة</a>
          <a href="../contact.html" class="nav-link">تواصل معنا</a>

          <div class="nav-actions">
            <button class="theme-toggle" id="themeToggle" aria-label="تبديل الوضع">
              <i class="fas fa-moon"></i>
            </button>
            <button class="search-toggle" id="searchToggle" aria-label="البحث">
              <i class="fas fa-search"></i>
            </button>
            <div class="language-switcher">
              <button class="lang-btn" id="langBtn">
                <i class="fas fa-globe"></i>
                <span>EN</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Post Content -->
  <div id="postContainer">
    <!-- سيتم ملؤها بواسطة JavaScript -->
  </div>

  <!-- Not Found Message -->
  <div id="notFound" class="not-found" style="display: none;">
    <div class="container">
      <i class="fas fa-exclamation-triangle"></i>
      <h1>المقال غير موجود</h1>
      <p>عذراً، لم نتمكن من العثور على هذا المقال.</p>
      <a href="./" class="btn btn-primary">
        <i class="fas fa-arrow-right"></i> العودة إلى المدونة
      </a>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-top">
      <div class="container">
        <div class="footer-grid">
          <div class="footer-col">
            <div class="footer-logo">
              <i class="fas fa-code"></i>
              <span>تكنولوجي <span class="ksa-text">السعودية</span></span>
            </div>
            <p class="footer-desc">
              نحن شركة رائدة في تقديم الحلول التقنية المتكاملة في المملكة العربية السعودية.
            </p>
            <div class="social-links">
              <a href="#" aria-label="تويتر"><i class="fab fa-twitter"></i></a>
              <a href="#" aria-label="لينكد إن"><i class="fab fa-linkedin-in"></i></a>
              <a href="#" aria-label="إنستغرام"><i class="fab fa-instagram"></i></a>
              <a href="#" aria-label="يوتيوب"><i class="fab fa-youtube"></i></a>
            </div>
          </div>

          <div class="footer-col">
            <h4>روابط سريعة</h4>
            <ul class="footer-links">
              <li><a href="../../">الرئيسية</a></li>
              <li><a href="../about.html">من نحن</a></li>
              <li><a href="../services/">خدماتنا</a></li>
              <li><a href="./">المدونة</a></li>
              <li><a href="../contact.html">تواصل معنا</a></li>
            </ul>
          </div>

          <div class="footer-col">
            <h4>خدماتنا</h4>
            <ul class="footer-links">
              <li><a href="../services/web-development.html">تطوير المواقع</a></li>
              <li><a href="../services/mobile-apps.html">تطبيقات الجوال</a></li>
              <li><a href="../services/digital-marketing.html">التسويق الرقمي</a></li>
            </ul>
          </div>

          <div class="footer-col">
            <h4>تواصل معنا</h4>
            <ul class="footer-contact">
              <li>
                <i class="fas fa-map-marker-alt"></i>
                <span>الرياض، المملكة العربية السعودية</span>
              </li>
              <li>
                <i class="fas fa-phone"></i>
                <span dir="ltr">+966 50 123 4567</span>
              </li>
              <li>
                <i class="fas fa-envelope"></i>
                <span>info@technologyksa.com</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="container">
        <div class="footer-bottom-content">
          <p>&copy; 2025 تكنولوجي السعودية. جميع الحقوق محفوظة.</p>
          <div class="footer-bottom-links">
            <a href="../privacy-policy.html">سياسة الخصوصية</a>
            <a href="../terms.html">الشروط والأحكام</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script src="../../assets/js/main.js"></script>
  <script src="../../assets/js/language.js"></script>
  <script src="../../assets/js/theme.js"></script>

  <script>
    // تحميل وعرض المقال
    (function() {
      // الحصول على ID المقال من URL
      const urlParams = new URLSearchParams(window.location.search);
      const postId = urlParams.get('id');

      if (!postId) {
        showNotFound();
        return;
      }

      // تحميل المقالات من localStorage
      const storedPosts = localStorage.getItem('techksa_blog_posts');
      const posts = storedPosts ? JSON.parse(storedPosts) : [];

      // البحث عن المقال
      const post = posts.find(p => p.id === postId);

      if (!post || post.status !== 'published') {
        showNotFound();
        return;
      }

      // عرض المقال
      displayPost(post);
    })();

    function displayPost(post) {
      document.getElementById('pageTitle').textContent = post.metaTitle || post.title;
      document.getElementById('pageDescription').content = post.metaDescription || post.excerpt;

      const container = document.getElementById('postContainer');
      const authorInitial = post.author.charAt(0);

      container.innerHTML = `
        <article class="blog-post">
          <!-- Post Header -->
          <div class="post-header">
            <div class="container">
              <span class="post-category-badge">${post.category}</span>
              <h1 data-aos="fade-up">${post.title}</h1>
              <div class="post-meta" data-aos="fade-up" data-aos-delay="100">
                <span><i class="far fa-calendar"></i> ${formatDate(post.date)}</span>
                <span><i class="far fa-clock"></i> ${post.readTime} دقائق</span>
                <span><i class="far fa-user"></i> ${post.author}</span>
              </div>
            </div>
          </div>

          <!-- Featured Image -->
          ${post.featuredImage ? `
            <div class="container">
              <div class="post-featured-image" data-aos="fade-up">
                <img src="${post.featuredImage}" alt="${post.imageAlt || post.title}">
              </div>
            </div>
          ` : ''}

          <!-- Post Content -->
          <div class="post-content-wrapper">
            <div class="post-content">
              ${formatContent(post.content)}
            </div>

            <!-- Post Footer -->
            <div class="post-footer">
              <!-- Author Box -->
              <div class="author-box">
                <div class="author-avatar">${authorInitial}</div>
                <div class="author-info">
                  <h3>بواسطة ${post.author}</h3>
                  <p>كاتب في تكنولوجي السعودية</p>
                </div>
              </div>
            </div>
          </div>
        </article>
      `;

      // Initialize AOS
      if (typeof AOS !== 'undefined') {
        AOS.init();
      }
    }

    function showNotFound() {
      document.getElementById('postContainer').style.display = 'none';
      document.getElementById('notFound').style.display = 'block';
    }

    function formatDate(dateString) {
      const date = new Date(dateString);
      const months = ['يناير', 'فبراير', 'مارس', 'إبريل', 'مايو', 'يونيو',
                     'يوليو', 'أغسطس', 'سبتمبر', 'أكتوبر', 'نوفمبر', 'ديسمبر'];
      return `${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;
    }

    function formatContent(content) {
      // تنسيق المحتوى (تحويل السطور الجديدة إلى فقرات)
      return content.split('\n\n').map(para => {
        if (para.trim()) {
          return `<p>${para.trim()}</p>`;
        }
        return '';
      }).join('');
    }
  </script>
</body>
</html>
